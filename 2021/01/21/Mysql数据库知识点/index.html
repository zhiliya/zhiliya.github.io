<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="emmmm 感觉没啥好说的"><meta name="theme-color" content="#2d4356"><meta name="baidu-site-verification"><title>Mysql数据库知识点 | zhiliya</title><link rel="stylesheet" type="text/css" href="/css/style.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.png"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="zhiliya" type="application/atom+xml">
</head><link rel="stylesheet" type="text/css" href="/plugins/highlight/atom-one-dark.min.css"><script type="text/javascript" src="/plugins/highlight/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();
</script><script type="text/javascript" src="/js/ready.js" async></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><body class="night"><div class="mobile-head" id="mobile-head"><div class="navbar-icon"><span></span><span></span><span></span></div><div class="navbar-title"><a href="/">LITREILY</a></div><div class="navbar-search"><!--= show a circle here--></div></div><div class="h-wrapper" id="menu"><nav class="h-head box"><div class="m-hdimg"><a class="hdimg img" href="/"><img class="nofancybox" src="/img/profile.jpg" width="128" height="128"></a><h1 class="ttl"><a href="/">zhiliya</a></h1></div><p class="m-desc">心之所向，无惧无悔,<br>愿求仁得仁，复无怨怼！</p><div class="m-nav"><ul><li><span class="dot">●</span><a href="/archives/">归档</a></li><li><span class="dot">●</span><a href="/categories/">分类</a></li><li><span class="dot">●</span><a href="/tags/">标签</a></li><li><span class="dot">●</span><a href="/about/">关于</a></li><li><span class="dot">●</span><a href="/atom.xml">RSS</a></li><li class="m-sch"><form class="form" id="j-formsch" method="get"><input class="txt" type="text" id="local-search-input" name="q" value="搜索" onfocus="if(this.value=='搜索'){this.value='';}" onblur="if(this.value==''){this.value='搜索';}"><input type="text" style="display:none;"></form></li></ul><div id="local-search-result"></div></div></nav></div><div id="back2Top"><a class="fa fa-arrow-up" title="Back to top" href="#"></a></div><div class="box" id="container"><div class="l-wrapper"><div class="l-content box"><div class="l-post l-post-art"><article class="p-art"><div class="p-header box"><h1 class="p-title">Mysql数据库知识点</h1><div class="p-info"><span class="p-date"><i class="fa fa-calendar"></i><a href="/2021/01/21/Mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9F%A5%E8%AF%86%E7%82%B9/">2021-01-21</a></span><span class="p-view" id="busuanzi_container_page_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_page_pv"></span></span></div></div><div class="p-content"><p>Mysql数据库知识点<br>1.管理数据库语句：</p>
<p>使用数据库：</p>
<p>use test;</p>
<p>添加数据库：</p>
<p>create database 数据库名;</p>
<p>create database test;</p>
<p>修改数据库：</p>
<p>alter database 数据库名;</p>
<p>alter database test;</p>
<p>删除数据库：</p>
<p>drop database 数据库名;</p>
<p>drop database test;</p>
<p>查看所有数据库：</p>
<p>show databases;</p>
<p>2.管理表语句：</p>
<p>添加数据表：</p>
<p>create table 表名(</p>
<p>　　列名 数据类型 数据约束,</p>
<p>　　列名 数据类型 数据约束</p>
<p>);</p>
<p>create table student(</p>
<p>　　name varchar(20) not null,</p>
<p>　　age int(4)</p>
<p>)</p>
<p>修改数据表：</p>
<p>alter table 表名;</p>
<p>1)在表中增加新字段</p>
<p>alter table student add colunm name varchar(20);</p>
<p>2)删除表中的字段</p>
<p>alter table student drop name;</p>
<p>3)修改表中字段的类型</p>
<p>alter table student modify name varchar(10);</p>
<p>删除数据表：</p>
<p>drop table 表名;</p>
<p>drop table student;</p>
<p>查看所有表：</p>
<p>show tables;</p>
<p>3.管理数据语句：</p>
<p>插入数据：</p>
<p>insert into 表名 (列1,列2…)  values (值1,值2…);</p>
<p>insert into student (name,age) values (‘张三’,20);</p>
<p>更新数据：</p>
<p>update 表名 set 列=修改值 where 条件;</p>
<p>update student set  name=’李四’ where name=’张三’;</p>
<p>删除数据：</p>
<p>delete from 表名 where 条件;</p>
<p>delete from student where name=’李四’;</p>
<p>查询数据：</p>
<p>selete *  from 表名 where 条件;</p>
<p>selete * from student where name=’张三’;</p>
<p>4.各种查询语句：</p>
<p>查询时指定别名：</p>
<p>1) selete id AS ‘编号’,name AS ‘姓名’ from student;</p>
<p>2) selete id ‘编号’,name ‘姓名’ from student;(AS可以省略)</p>
<p>查询时合并列：</p>
<p>需求:查询每个学生的总分</p>
<p>selete name AS ‘姓名’,(servlet+mysql) AS ‘总成绩’ from student;</p>
<p>注意:合并列的字段必须是数值类型的字段</p>
<p>查询时去除重复(distinct)：</p>
<p>需求:查询有哪些地区的学生</p>
<p>selete DISTINCT address from student;</p>
<p>另一种语法</p>
<p>selete DISTINCT(address) from student;<br>条件查询</p>
<p>逻辑条件: and  or</p>
<p>需求:查询学生的id为1，且姓名为张三的学生</p>
<p>selete * from student where id=1 and name=’张三’;(交集)</p>
<p>需求:查询学生的id为2，或姓名为张三的学生</p>
<p>selete * from student where id=2 or name=’张三’;(并集)</p>
<p>比较条件: &gt;  &lt;  &gt;=  &lt;=  =  &lt;&gt;  (between and–在…之间 包前包后)</p>
<p>需求:查询servlet分数大于80分的学生</p>
<p>selete * from student where servlet&gt;80;</p>
<p>需求:查询mysql分数小于或等于85分的学生</p>
<p>selete * from student where mysql&lt;=85;</p>
<p>需求:查询servlet分数大于或等于80分，且小于或等于85分的学生</p>
<p>selete * from student where servlet&gt;=80 AND servlet&lt;=85;</p>
<p>代替上面语句的语法</p>
<p>selete * from student where servlet BETWEEN 80 AND 85;</p>
<p>需求:查询年龄不等于30的学生</p>
<p>selete * from student where age&lt;&gt;30;</p>
<p>判空条件: is null,   is not null,   =’’,   &lt;&gt;’’</p>
<p>Null:表示没有数据</p>
<p>空字符:表示有数据</p>
<p>需求:查询没有性别数据的学生(数据‘男’或‘女’)</p>
<p>selete* from student where gender IS NULL OR gender=’’;</p>
<p>需求:查询有性别数据的学生</p>
<p>selete * from student where gender IS NOT NULL AND gender&lt;&gt;’’;</p>
<p>模糊条件: like</p>
<p>模糊替代符号:</p>
<p>%:替代任意个字符</p>
<p>_:替代一个字符</p>
<p>需求:查询姓“李”的学生</p>
<p>SELECT * FROM student WHERE NAME LIKE ‘李%’;</p>
<p>需求:查询姓名中包含‘四’字的学生</p>
<p>SELECT * FROM student WHERE NAME LIKE ‘%四%’;</p>
<p>需求:查询姓‘李’，全名只有两个字的学生</p>
<p>SELECT * FROM student WHERE NAME LIKE ‘李_’;</p>
<p>聚合函数查询(用于统计结果)</p>
<p>Max()取最大值  min()取最小值  avg()取平均值  count()统计标的记录数量 sum()求和</p>
<p>需求:查询servlet的最高分</p>
<p>SELECT MAX(servlet) FROM student;</p>
<p>需求:查询mysql的最低分</p>
<p>SELECT MIN(mysql) FROM student;</p>
<p>需求:查询servlet的平均分</p>
<p>SELECT AVG(servlet) FROM student;</p>
<p>需求:查询当前有几个学生</p>
<p>SELECT COUNT(*) FROM student;</p>
<p>需求:查询servlet成绩的总和</p>
<p>SELETE SUM(servlet) from student;</p>
<p>分页查询(limit)</p>
<p>Limit起始行数，查询的行数</p>
<p>起始行数从0开始</p>
<p>需求:查询第1,2条数据</p>
<p>SELECT * FROM student LIMIT 0,2;</p>
<p>分页查询需知道:当前页码，每页显示条数</p>
<p>结论分页查询当前页数据:select * from student limit (当前页码-1)*每页显示条数，每页显示条数;</p>
<p>需求:学生共20条数据，每页显示5条，共4页</p>
<p>查询第3页(第11到15条)的学生数据:select * from student limit 10,5;</p>
<p>查询后排序(order by)</p>
<p>DESC:降序。数值从大到小，字母z-a</p>
<p>ASC:升序。数值从小到大，字母a-z</p>
<p>默认情况下，按照插入的顺序排序</p>
<p>需求:按照id的升序排序</p>
<p>select * from student order by id asc;</p>
<p>需求:按照servlet成绩降序排序</p>
<p>select * from student order by servlet desc;</p>
<p>多个排序条件的情况:先按照前面的条件排序，当出现重复记录，再按照后面的条件排序</p>
<p>需求:按照age升序，再按照servlet成绩升序排序</p>
<p>select * from student order by age asc,servlet asc;</p>
<p>分组查询(group by)</p>
<p>需求:查询每个地区有多少人</p>
<p>SELECT address,COUNT(*) FROM student GROUP BY address;</p>
<p>需求:统计男女的人数</p>
<p>注意:where条件必须放在group by 分组之前</p>
<p>SELECT gender,COUNT(*) FROM student WHERE gender IS NOT NULL AND gender&lt;&gt;’’ GROUP BY gender;</p>
<p>分组后筛选(having)</p>
<p>需求:查询哪些地区的人数是大于2个的地区</p>
<p>查询哪些地区多少人 2)筛选人数大于2的地区</p>
<p>注意:having使用在group by分组之后，对分组后的条件进行筛选</p>
<p>SELECT address,COUNT(<em>) FROM student GROUP BY address HAVING COUNT(</em>)&gt;2;</p>
<p>5.数据约束（给表添加数据约束，从而约束用户操作表数据的行为）</p>
<p>1）默认值约束(default)</p>
<p>create table test(</p>
<p>　　name varchar(20),</p>
<p>　　gender varchar(20) default ‘男’</p>
<p>)</p>
<p>需求:当不插入gender的时候，分配一个‘男’的默认值</p>
<p>注意:1)当没有插入gender字段的时候，分配一个默认值</p>
<p>2）非空约束（not null）</p>
<p>create table test(</p>
<p>　　name varchar(20) not null,</p>
<p>　　gender varchar(20)</p>
<p>)</p>
<p>需求；name字段一定要有值(不能不插入数据，不能是null)，这是给name添加非空约束</p>
<p>1)非空约束，不能不插入值</p>
<p>Insert into test(gender) values(‘男’);</p>
<p>2)非空约束，不能插入null</p>
<p>Insert into test(name,gender) values(null,’男’);</p>
<p>3)唯一约束(unique)</p>
<p>create table test(</p>
<p>　　Id int unique,</p>
<p>　　name varchar(20)</p>
<p>)</p>
<p>需求:id的值不能出现重复。这时就要给id添加一个唯一约束</p>
<p>1)不能插入重复的值</p>
<p>2)唯一约束，可以插入多个null。所以唯一约束不能约束null</p>
<p>Insert into test(id,name) values(1,’张三’);</p>
<p>4)主键约束(primary key)(唯一+非空)</p>
<p>注意；</p>
<p>1)通常情况下，我们会给每张表都设置一个主键字段，用来标记记录的唯一性</p>
<p>2)但是不建议把业务含义字段作为主键，因为随着业务的变化，业务字段可能出现重复</p>
<p>3)建议给每张表都独立添加一个叫id的字段，把这个id字段设置成主键，用来作为记录的唯一性</p>
<p>create table test(</p>
<p>　　Id int primary key,</p>
<p>　　name varchar(20)</p>
<p>)</p>
<p>1)唯一性</p>
<p>2)非空性</p>
<p>5)自增长约束(auto_increment)</p>
<p>create table test(</p>
<p>　　Id int primary key auto_increment,</p>
<p>　　name varchar(20)</p>
<p>)</p>
<p>自增长约束:初始值为0，每次递增1</p>
<p>使用truncate table 删除数据的时候，可以把自增长的初始值置为0</p>
<p>6)外键约束</p>
<p>员工表(副表:被别的表约束的表，外键设置在副表)</p>
<p>Create table employee(</p>
<p>　　Id int primary key auto_increment,</p>
<p>　　name varchar(20),</p>
<p>　　deptId int,</p>
<p>　　添加外键约束(foreign key)</p>
<p>　　Constraint employee_dept_fk foreign key(deptId) references dept(id)</p>
<pre><code>      　　　　　　 外键名                               外键字段                </code></pre><p>)</p>
<p>部门表(主表:约束别人的表)</p>
<p>Create table dept(</p>
<p>　　Id int primary key auto_increment,</p>
<p>　　Name varchar(20)</p>
<p>)</p>
<p>外键约束在什么情况下会起作用？</p>
<p>插入数据:当往副表插入了主表中不存在的数据时，外键起作用</p>
<p>修改数据:当往副表中修改主表中不存在的数据时，外键起作用</p>
<p>删除数据:副表中有关联主表数据的情况下，当删除主表数据时，外键起作用</p>
<p>当有了外键之后，应该如何管理数据呢？</p>
<p>插入数据:先插入主表的数据，再插入副表数据</p>
<p>修改数据:先修改主表数据，再修改副表数据</p>
<p>删除数据:先删除副表数据，再删除主表数据<br>7)级联技术(cascade)</p>
<p>级联:当有了外键的时候，我们希望修改或删除数据的时候，修改或删除主表数据时，同时能够影响副表的数据，这时就可以使用级联</p>
<p>Create table employee(</p>
<p>　　Id int primary key auto_increment,</p>
<p>　　name varchar(20),</p>
<p>　　deptId int,</p>
<p>　　添加外键约束(foreign key)</p>
<p>　　添加级联修改:on update cascade</p>
<p>　　添加级联修改:on delete cascade</p>
<p>　　Constraint employee_dept_fk foreign key(deptId) references dept(id) on update cascade on delete cascade</p>
<pre><code>      　　　　　　 外键名                               外键字段 </code></pre><p>);</p>
<p>部门表(主表:约束别人的表)</p>
<p>Create table dept(</p>
<p>Id int primary key auto_increment,</p>
<p>Name varchar(20)</p>
<p>);</p>
<p>6.数据库设计的三大范式</p>
<p>第一范式；要求表的每个字段必须独立的不可分割的单元</p>
<p>学生表: student name —违反第一范式</p>
<pre><code>          张三|狗娃

王涵|张小涵</code></pre><p>查询:现用名中包含‘张’的学生</p>
<p>Select * from student where name like ‘%张%’;</p>
<p>学生表: student name old_name  —符合第一范式</p>
<pre><code>             张三    狗娃

王涵             张小涵</code></pre><p>第二范式:在第一范式的基础上，要求表的除主键以外的字段都和主键有依赖关系</p>
<p>一张表只表达一个意思</p>
<p>员工表:employee</p>
<p>员工编号   员工姓名   部门名称    订单名称   —违反第二范式</p>
<p>员工表:employee</p>
<p>员工编号   员工姓名   部门名称     —符合第二范式</p>
<pre><code>订单表:

订单编号 订单名称</code></pre><p>第三范式:在第二范式的基础上，要求表的除主键以外的字段都只能和主键有直接决定的依赖关系</p>
<p>员工表:employee</p>
<p>员工编号   员工姓名  部门编号  部门名称 —违反第三范式(出现数据冗余)</p>
<pre><code>1        张三       1        软件开发部

2        李四       1        软件开发部</code></pre><p>员工表:employee</p>
<p>员工编号   员工姓名  部门编号   —符合第三范式</p>
<p> 1        张三       1</p>
<p> 2        李四       1</p>
<p>部门表:dept</p>
<p>部门编号   部门名称</p>
<p>1          软件开发部</p>
<p>7.多表查询</p>
<p>1.交叉连接查询(笛卡尔乘积:4*3=12，产生笛卡尔积的原因是没有足够的连接条件)(一般不用)</p>
<p>需求:查询员工及其部门名称</p>
<p>SELECT employee.name,dept.name</p>
<p>FROM employee,dept;</p>
<p>2.内连接查询(使用最多)</p>
<p>多表查询的步骤:1)确定查询哪些表</p>
<pre><code>2)确定查询哪些字段

3)确定连接条件(规则:条件=表数量-1)</code></pre><p>SELECT employee.name,dept.name</p>
<p>FROM employee,dept</p>
<p>WHERE employee.deptId=dept.id;</p>
<p>另一种语法</p>
<p>SELECT e.name,d.name</p>
<p>FROM employee e</p>
<p>INNER JOIN dept d</p>
<p>ON e.deptId=d.id;</p>
<p>3.左外连接查询(左表数据全部显示，如果右边不满足，则显示null)</p>
<p>需求:查询部门及其部门的员工</p>
<p>SELECT d.name,e.name</p>
<p>FROM dept d</p>
<p>LEFT OUTER JOIN employee e</p>
<p>ON d.id=e.deptId;</p>
<p>4.右外连接查询(右表数据全部显示，如果左边不满足，则显示null)</p>
<p>SELECT d.name,e.name</p>
<p>FROM employee e</p>
<p>RIGHT OUTER JOIN dept d</p>
<p>ON e.deptId=d.id;</p>
</div><div class="p-copyright"><blockquote><div class="p-copyright-author"><span class="p-copyright-key">本文作者：</span><span class="p-copytight-value"><a href="mailto:litreily@163.com">zhiliya</a></span></div><div class="p-copyright-link"><span class="p-copyright-key">本文链接：</span><span class="p-copytight-value"><a href="/2021/01/21/Mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9F%A5%E8%AF%86%E7%82%B9/">http://yoursite.com/2021/01/21/Mysql数据库知识点/</a></span></div><div class="p-copyright-note"><span class="p-copyright-key">版权声明：</span><span class="p-copytight-value">本博客所有文章除特殊声明外，均采用<a rel="nofollow" target="_blank" href="https://creativecommons.org/licenses/by-nc/4.0/"> CC BY-NC 4.0 </a>许可协议。转载请注明出处 <a href="http://yoursite.com">zhiliya的博客</a>！</span></div></blockquote></div></article><div class="p-info box"></div><aside id="toc"><div class="toc-title">目录</div><nav></nav></aside></div><section class="p-ext"><div class="l-pager l-pager-dtl box"><a class="prev" href="/2021/03/01/c-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/">&lt; c#基本语法</a><a class="next" href="/2021/01/11/cisp/">cisp &gt;</a></div><div id="valine-comment"><style type="text/css">.night .v[data-class=v] a { color: #0F9FB4 !important; }
.night .v[data-class=v] a:hover { color: #216C73 !important; }
.night .v[data-class=v] li { list-style: inherit; }
.night .v[data-class=v] .vwrap { border: 1px solid #223441; border-radius: 0; }
.night .v[data-class=v] .vwrap:hover { box-shadow: 0 0 6px 1px #223441; }
.night .v[data-class=v] .vbtn { border-radius: 0; background: none; }
.night .v[data-class=v] .vlist .vcard .vh { border-bottom-color: #293D4E; }
.night .v[data-class=v] .vwrap .vheader .vinput { border-bottom-color: #223441; }
.night .v[data-class=v] .vwrap .vheader .vinput:focus { border-bottom-color: #339EB4; }
.night .v[data-class=v] code, .night .v[data-class=v] pre,.night .v[data-class=v] .vlist .vcard .vhead .vsys { background: #203240 !important; }
.night .v[data-class=v] code, .night .v[data-class=v] pre { color: #F0F0F0; font-size: 95%; }
.v[data-class=v] .vcards .vcard .vh {border-bottom-color: #223441; }
.night .v[data-class=v] .vcards .vcard .vcontent.expand:before {background: linear-gradient(180deg,rgba(38,57,73,.4),rgba(38,57,73,.9));}
.night .v[data-class=v] .vcards .vcard .vcontent.expand:after {background: rgba(38,57,73,.9)}
</style><div id="vcomment"></div><script src="//cdn.bootcdn.net/ajax/libs/valine/1.4.14/Valine.min.js"></script><script>var notify = 'false' == true ? true : false;
var verify = 'false' == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'',
  appKey:'',
  lang: 'zh-cn',
  placeholder:'ヾﾉ≧∀≦)o Come on, say something...',
  avatar:'identicon',
  guest_info:guest_info,
  pageSize:'10'
})</script></div></section><footer><p>Copyright © 2016 - 2023 <a href="/." rel="nofollow">zhiliya</a> | <strong><a rel="nofollow" target="_blank" href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a></strong><br><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span></span> <span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span></span> | Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a>Theme with<a rel="nofollow" target="_blank" href="https://github.com/litreily/snark-hexo"> snark.</a></p></footer></div></div></div><script type="text/javascript" src="/js/search.js"></script><script type="text/javascript" src="/js/top.js"></script><script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
    search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.1" async></script></body></html>